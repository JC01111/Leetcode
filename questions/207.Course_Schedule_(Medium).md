## 207. Course Schedule (Medium)
**Date and Time:** Jun 2, 2024, 4:34 AM (EST)

Link: https://leetcode.com/problems/course-schedule/

<br>

### Question:
There are a total of `numCourses` courses you have to take, labeled from `0` to `numCourses - 1`. You are given an array `prerequisites` where `prerequisites[i] = [a_i, b_i]` indicates that you **must** take course $b_i$ first if you want to take course $a_i$.

- For example, the pair `[0, 1]`, indicates that to take course `0` you have to first take course `1`.

Return `true` if you can finish all courses. Otherwise, return `false`.

<br>

**Example 1:**
> **Input:** numCourses = 2, prerequisites = [[1,0]]
> 
> **Output:** true
>
> **Explanation:** There are a total of 2 courses to take. 
To take course 1 you should have finished course 0. So it is possible.

**Example 2:**
> **Input:** numCourses = 2, prerequisites = [[1,0],[0,1]]
> 
> **Output:** false
>
> **Explanation:** There are a total of 2 courses to take. 
> To take course 1 you should have finished course 0, and to take course 0 you should also have finished course 1. So it is impossible.

<br>

### KeyPoints: 
We first map each course with its preprequisites into `preMap`, and we use `visited` a set to keep track of all the prerequisities we've seen so far. And we run dfs on each `pre` to see if for each crs it can satisify all its prerequisites. If yes, we remove from `visited` and reset the `preMap[crs] = []`, because the crs can be completed.

<br>

### My Solution:
```python
class Solution:
    def canFinish(self, numCourses: int, prerequisites: List[List[int]]) -> bool:
        # Set a preMap for crs: [pre]
        preMap = {i:[] for i in range(numCourses)}
        for crs, pre in prerequisites:
            preMap[crs].append(pre)
        
        visited = set()
        def dfs(crs):
            # When crs is a prereq for another course
            if crs in visited:
                return False
            if preMap[crs] == []:
                return True
            visited.add(crs)
            # Run dfs on all prereqs of crs
            for pre in preMap[crs]:
                if not dfs(pre):
                    return False
            # If a crs can be taken, we remove from visited and set preMap=[]
            visited.remove(crs)
            preMap[crs] = []
            return True
        # Driver code, check every crs can be taken or not
        for crs in range(numCourses):
            if not dfs(crs):
                return False
        return True
```

<br>

<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt="CC BY-NC-SA" title="CC BY-NC-SA"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt="BY: credit must be given to the creator" title="BY: credit must be given to the creator"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1" alt="NC: Only noncommercial uses of the work are permitted" title="NC: Only noncommercial uses of the work are permitted"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1" alt="SA: Adaptations must be shared under the same terms" title="SA: Adaptations must be shared under the same terms">